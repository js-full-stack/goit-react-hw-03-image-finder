{"version":3,"sources":["Components/ImageGallery/ImageGalleryItem.jsx","Components/Searchbar/Searchbar.jsx","services/pixabay-api.js","Components/ButtonLoadMore/ButtonLoadMore.jsx","Components/ImageGallery/ImageGallery.jsx","App.js","index.js"],"names":["ImageGalleryItem","alt","id","miniImage","className","src","Searchbar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","this","type","onChange","autoComplete","autoFocus","placeholder","Component","searchQuery","currentPage","apiKey","url","axios","get","then","res","data","hits","ButtonLoadMore","loadMore","onClick","ImageGallery","images","isLoading","error","onChangeQuery","fetchImages","pixabayApi","prev","catch","finally","prevProps","prevState","showSpinnerWhileLoading","length","map","tags","webformatURL","App","page","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c72cc40f.chunk.js","sourcesContent":["import './ImageGallery.scss';\n\nconst ImageGalleryItem = ({ alt, id, miniImage }) => {\n  return (\n    <li key={id} className=\"ImageGalleryItem\">\n      <img src={miniImage} alt={alt} className=\"ImageGalleryItem-image\" />\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n","import './Searchbar.scss';\nimport { Component } from 'react';\n\nclass Searchbar extends Component {\n  state = { query: '' };\n\n  handleChange = e => {\n    this.setState({ query: e.currentTarget.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.query);\n    this.setState({ query: '' });\n  };\n\n  render() {\n    const { query } = this.state;\n\n    return (\n      <header className=\"Searchbar\">\n        <form onSubmit={this.handleSubmit} className=\"SearchForm\">\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n          <input\n            onChange={this.handleChange}\n            value={query}\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Load more</span>\n          </button>\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import axios from 'axios';\n\nexport const fetchImages = (searchQuery = '', currentPage = 1) => {\n  const apiKey = '20244739-961dea85be28be305e8bcd893';\n  const url = `https://pixabay.com/api/?q=${searchQuery}&page=${currentPage}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=12`;\n\n  return axios.get(url).then(res => res.data.hits);\n};\n\nexport default { fetchImages };\n","import './ButtonLoadMore.scss';\n\nconst ButtonLoadMore = ({ loadMore }) => {\n  return (\n    <button className=\"ButtonLoadMore\" onClick={loadMore}>\n      Load more\n    </button>\n  );\n};\n\nexport default ButtonLoadMore;\n","import ImageGalleryItem from './ImageGalleryItem';\nimport Searchbar from '../Searchbar';\nimport Loader from 'react-loader-spinner';\n\nimport { Component } from 'react';\nimport pixabayApi from '../../services/pixabay-api';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport ButtonLoadMore from '../ButtonLoadMore/';\nclass ImageGallery extends Component {\n  state = {\n    images: [],\n    currentPage: 1,\n    searchQuery: '',\n    isLoading: false,\n    error: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages();\n    }\n  }\n\n  onChangeQuery = query => {\n    this.setState({\n      searchQuery: query,\n      currentPage: 1,\n      images: [],\n      error: null,\n    });\n  };\n\n  fetchImages = () => {\n    const { searchQuery, currentPage } = this.state;\n    this.setState({ isLoading: true });\n    pixabayApi\n      .fetchImages(searchQuery, currentPage)\n      .then(hits =>\n        this.setState(prev => ({\n          images: [...prev.images, ...hits],\n          currentPage: prev.currentPage + 1,\n        })),\n      )\n      .catch(error => this.setState({ error }))\n      .finally(() =>\n        this.setState({\n          isLoading: false,\n        }),\n      );\n  };\n\n  render() {\n    const { images, isLoading, error } = this.state;\n    const showSpinnerWhileLoading = images.length > 0 && !isLoading;\n\n    return (\n      <>\n        {error && <h1>Ошибка, что-то пошло не так!</h1>}\n        <Searchbar onSubmit={this.onChangeQuery} />\n        <ul className=\"ImageGallery\">\n          {images.map(({ tags, id, webformatURL }) => (\n            <ImageGalleryItem miniImage={webformatURL} alt={tags} key={id} />\n          ))}\n        </ul>\n        {isLoading && <Loader />}\n\n        {showSpinnerWhileLoading && (\n          <ButtonLoadMore loadMore={this.fetchImages} />\n        )}\n      </>\n    );\n  }\n}\n\nexport default ImageGallery;\n","import ImageGallery from './Components/ImageGallery/ImageGallery';\nimport Modal from './Components/Modal';\nimport { Component } from 'react';\n\n// const baseUrl = 'https://pixabay.com/api/';\n// const apiKey = '20244739-961dea85be28be305e8bcd893';\n// const httpRequest = `${baseUrl}?=что_искать&page=номер_страницы&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=12`;\n\n// id - уникальный идентификатор\n// webformatURL - ссылка на маленькое изображение для списка карточек\n// largeImageURL - ссылка на большое изображение для модального окна\n\nclass App extends Component {\n  state = {\n    searchQuery: '',\n    page: 1,\n  };\n\n  render() {\n    return (\n      <>\n        <ImageGallery />\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\nimport './basic.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}